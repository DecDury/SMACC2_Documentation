\hypertarget{classsmacc_1_1SignalDetector}{}\doxysection{smacc\+::Signal\+Detector Class Reference}
\label{classsmacc_1_1SignalDetector}\index{smacc::SignalDetector@{smacc::SignalDetector}}


{\ttfamily \#include $<$smacc\+\_\+signal\+\_\+detector.\+hpp$>$}



Collaboration diagram for smacc\+::Signal\+Detector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}{Signal\+Detector}} (\mbox{\hyperlink{smacc__fifo__scheduler_8hpp_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler}} $\ast$scheduler)
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}{initialize}} (\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine}{ISmacc\+State\+Machine}} $\ast$state\+Machine)
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}{set\+Processor\+Handle}} (Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle processor\+Handle)
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}{run\+Thread}} ()
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}{join}} ()
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}{stop}} ()
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{polling\+Loop}} ()
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}{poll\+Once}} ()
\item 
{\footnotesize template$<$typename Event\+Type $>$ }\\void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}{post\+Event}} (Event\+Type $\ast$ev)
\item 
rclcpp\+::\+Node\+::\+Shared\+Ptr \mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{get\+Node}} ()
\item 
rclcpp\+::\+Logger \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{get\+Logger}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}{find\+Updatable\+Clients\+And\+Components}} ()
\item 
void \mbox{\hyperlink{classsmacc_1_1SignalDetector_a443234ebdf8cedd45cde725e64639dfe}{find\+Updatable\+State\+Elements}} (\mbox{\hyperlink{classsmacc_1_1ISmaccState}{ISmacc\+State}} $\ast$current\+State)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine}{ISmacc\+State\+Machine}} $\ast$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smacc\+State\+Machine\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable}{ISmacc\+Updatable}} $\ast$ $>$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatable\+Clients\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable}{ISmacc\+Updatable}} $\ast$ $>$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatable\+State\+Elements\+\_\+}}
\item 
std\+::atomic$<$ unsigned long $>$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{last\+State\+\_\+}}
\item 
double \mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\+\_\+rate\+\_\+hz}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}{initialized\+\_\+}}
\item 
rclcpp\+::\+Publisher$<$ smacc\+\_\+msgs\+::msg\+::\+Smacc\+Status $>$\+::Shared\+Ptr \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb436ed8aa1d1c213a6c254ad31ff890}{status\+Pub\+\_\+}}
\item 
\mbox{\hyperlink{smacc__fifo__scheduler_8hpp_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler}} $\ast$ \mbox{\hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\+\_\+}}
\item 
Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle \mbox{\hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processor\+Handle\+\_\+}}
\item 
boost\+::thread \mbox{\hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signal\+Detector\+Thread\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 29 of file smacc\+\_\+signal\+\_\+detector.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}\label{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!SignalDetector@{SignalDetector}}
\index{SignalDetector@{SignalDetector}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{SignalDetector()}{SignalDetector()}}
{\footnotesize\ttfamily smacc\+::\+Signal\+Detector\+::\+Signal\+Detector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{smacc__fifo__scheduler_8hpp_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler}} $\ast$}]{scheduler }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}{Signal\+Detector()}} 

Definition at line 42 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44   \mbox{\hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\_}} = scheduler;}
\DoxyCodeLine{45   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}} = 20.0;}
\DoxyCodeLine{46   \mbox{\hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{47   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}{initialized\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{48 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}\label{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!findUpdatableClientsAndComponents@{findUpdatableClientsAndComponents}}
\index{findUpdatableClientsAndComponents@{findUpdatableClientsAndComponents}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{findUpdatableClientsAndComponents()}{findUpdatableClientsAndComponents()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::find\+Updatable\+Clients\+And\+Components (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}{find\+Updatable\+Clients\+And\+Components()}} 

Definition at line 72 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{73 \{}
\DoxyCodeLine{74   this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}}.clear();}
\DoxyCodeLine{75   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} pair : this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a7f5b2882dbd077584767cb2533ed3c49}{getOrthogonals}}())}
\DoxyCodeLine{76   \{}
\DoxyCodeLine{77     \textcolor{keyword}{auto} \& orthogonal = pair.second;}
\DoxyCodeLine{78     \textcolor{keyword}{auto} \& clients = orthogonal-\/>getClients();}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& client : clients)}
\DoxyCodeLine{81     \{}
\DoxyCodeLine{82       \textcolor{comment}{// updatable client components}}
\DoxyCodeLine{83       \textcolor{keyword}{auto} updatableClient = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(client.get());}
\DoxyCodeLine{84 }
\DoxyCodeLine{85       \textcolor{keywordflow}{if} (updatableClient != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{86       \{}
\DoxyCodeLine{87         RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{88           \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}Adding updatable client: "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(updatableClient)));}
\DoxyCodeLine{89         this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}}.push\_back(updatableClient);}
\DoxyCodeLine{90       \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92       \textcolor{comment}{// updatable client components}}
\DoxyCodeLine{93       std::vector<std::shared\_ptr<ISmaccComponent>> components;}
\DoxyCodeLine{94       client-\/>getComponents(components);}
\DoxyCodeLine{95       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& componententry : components)}
\DoxyCodeLine{96       \{}
\DoxyCodeLine{97         \textcolor{keyword}{auto} updatableComponent = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(componententry.get());}
\DoxyCodeLine{98         \textcolor{keywordflow}{if} (updatableComponent != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{99         \{}
\DoxyCodeLine{100           RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{101             \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{102             \textcolor{stringliteral}{"{}Adding updatable component: "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(*updatableComponent)));}
\DoxyCodeLine{103           this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}}.push\_back(updatableComponent);}
\DoxyCodeLine{104         \}}
\DoxyCodeLine{105       \}}
\DoxyCodeLine{106     \}}
\DoxyCodeLine{107   \}}
\DoxyCodeLine{108 \}}

\end{DoxyCode}


References smacc\+::introspection\+::demangle\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a443234ebdf8cedd45cde725e64639dfe}\label{classsmacc_1_1SignalDetector_a443234ebdf8cedd45cde725e64639dfe}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!findUpdatableStateElements@{findUpdatableStateElements}}
\index{findUpdatableStateElements@{findUpdatableStateElements}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{findUpdatableStateElements()}{findUpdatableStateElements()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::find\+Updatable\+State\+Elements (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsmacc_1_1ISmaccState}{ISmacc\+State}} $\ast$}]{current\+State }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

find\+Updatable\+Client\+Behaviors() 

Definition at line 115 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{116 \{}
\DoxyCodeLine{117   this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.clear();}
\DoxyCodeLine{118   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} pair : this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a7f5b2882dbd077584767cb2533ed3c49}{getOrthogonals}}())}
\DoxyCodeLine{119   \{}
\DoxyCodeLine{120     \textcolor{keyword}{auto} \& orthogonal = pair.second;}
\DoxyCodeLine{121     \textcolor{keyword}{auto} \& behaviors = orthogonal-\/>getClientBehaviors();}
\DoxyCodeLine{122 }
\DoxyCodeLine{123     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& currentBehavior : behaviors)}
\DoxyCodeLine{124     \{}
\DoxyCodeLine{125       ISmaccUpdatable * updatableClientBehavior =}
\DoxyCodeLine{126         \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(currentBehavior.get());}
\DoxyCodeLine{127 }
\DoxyCodeLine{128       \textcolor{keywordflow}{if} (updatableClientBehavior != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{129       \{}
\DoxyCodeLine{130         RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{131           \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{132           \textcolor{stringliteral}{"{}Adding updatable behavior: "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(updatableClientBehavior)));}
\DoxyCodeLine{133         this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.push\_back(updatableClientBehavior);}
\DoxyCodeLine{134       \}}
\DoxyCodeLine{135     \}}
\DoxyCodeLine{136   \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{keyword}{auto} updatableState = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(currentState);}
\DoxyCodeLine{139   \textcolor{keywordflow}{if} (updatableState != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{140   \{}
\DoxyCodeLine{141     this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.push\_back(updatableState);}
\DoxyCodeLine{142   \}}
\DoxyCodeLine{143 }
\DoxyCodeLine{144   \textcolor{keyword}{auto} statereactors = currentState-\/>getStateReactors();}
\DoxyCodeLine{145   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& sr : statereactors)}
\DoxyCodeLine{146   \{}
\DoxyCodeLine{147     ISmaccUpdatable * updatableStateReactor = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(sr.get());}
\DoxyCodeLine{148     \textcolor{keywordflow}{if} (updatableStateReactor != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{149     \{}
\DoxyCodeLine{150       RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{151         \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{152         \textcolor{stringliteral}{"{}Adding updatable stateReactorr: "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(updatableStateReactor)));}
\DoxyCodeLine{153       this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.push\_back(updatableStateReactor);}
\DoxyCodeLine{154     \}}
\DoxyCodeLine{155   \}}
\DoxyCodeLine{156 }
\DoxyCodeLine{157   \textcolor{keyword}{auto} eventgenerators = currentState-\/>getEventGenerators();}
\DoxyCodeLine{158   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& eg : eventgenerators)}
\DoxyCodeLine{159   \{}
\DoxyCodeLine{160     ISmaccUpdatable * updatableEventGenerator = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(eg.get());}
\DoxyCodeLine{161     \textcolor{keywordflow}{if} (updatableEventGenerator != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{162     \{}
\DoxyCodeLine{163       RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{164         \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{165         \textcolor{stringliteral}{"{}Adding updatable eventGenerator: "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(updatableEventGenerator)));}
\DoxyCodeLine{166       this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.push\_back(updatableEventGenerator);}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168   \}}
\DoxyCodeLine{169 \}}

\end{DoxyCode}


References smacc\+::introspection\+::demangle\+Type(), smacc\+::\+ISmacc\+State\+::get\+Event\+Generators(), and smacc\+::\+ISmacc\+State\+::get\+State\+Reactors().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a443234ebdf8cedd45cde725e64639dfe_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}\label{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!getLogger@{getLogger}}
\index{getLogger@{getLogger}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{getLogger()}{getLogger()}}
{\footnotesize\ttfamily rclcpp\+::\+Logger smacc\+::\+Signal\+Detector\+::get\+Logger (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 58 of file smacc\+\_\+signal\+\_\+detector.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}()-\/>get\_logger(); \}}

\end{DoxyCode}


References get\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}\label{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!getNode@{getNode}}
\index{getNode@{getNode}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{getNode()}{getNode()}}
{\footnotesize\ttfamily rclcpp\+::\+Node\+::\+Shared\+Ptr smacc\+::\+Signal\+Detector\+::get\+Node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 50 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{50 \{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_acab38ec6ccdddce5b2efca2c8b82cf0f}{getNode}}(); \}}

\end{DoxyCode}


Referenced by get\+Logger().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}\label{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!initialize@{initialize}}
\index{initialize@{initialize}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine}{ISmacc\+State\+Machine}} $\ast$}]{state\+Machine }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}{initialize()}} 

Definition at line 57 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}} = stateMachine;}
\DoxyCodeLine{60   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_}} = std::numeric\_limits<unsigned long>::quiet\_NaN();}
\DoxyCodeLine{61   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}{findUpdatableClientsAndComponents}}();}
\DoxyCodeLine{62   this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}()-\/>declare\_parameter(\textcolor{stringliteral}{"{}signal\_detector\_loop\_freq"{}}, this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}});}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}{initialized\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{65 \}}

\end{DoxyCode}


Referenced by smacc\+::\+ISmacc\+State\+Machine\+::\+ISmacc\+State\+Machine().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}\label{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!join@{join}}
\index{join@{join}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{join()}{join()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::join (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}{join()}} 

Definition at line 196 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{196 \{ \mbox{\hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signalDetectorThread\_}}.join(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}\label{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!pollingLoop@{pollingLoop}}
\index{pollingLoop@{pollingLoop}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{pollingLoop()}{pollingLoop()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::polling\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{polling\+Loop()}} 

Definition at line 333 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{334 \{}
\DoxyCodeLine{335   \textcolor{comment}{// rclcpp::Node::SharedPtr nh("{}\string~"{}); // use node name as root of the parameter server}}
\DoxyCodeLine{336   rclcpp::Node::SharedPtr \_;}
\DoxyCodeLine{337   rclcpp::Rate r0(20);}
\DoxyCodeLine{338 }
\DoxyCodeLine{339   \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}{initialized\_}})}
\DoxyCodeLine{340   \{}
\DoxyCodeLine{341     r0.sleep();}
\DoxyCodeLine{342   \}}
\DoxyCodeLine{343 }
\DoxyCodeLine{344   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}()-\/>get\_parameter(\textcolor{stringliteral}{"{}signal\_detector\_loop\_freq"{}}, this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}}))}
\DoxyCodeLine{345   \{}
\DoxyCodeLine{346     RCLCPP\_WARN(}
\DoxyCodeLine{347       \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{348       \textcolor{stringliteral}{"{}Signal detector frequency (ros param signal\_detector\_loop\_freq) was not set, using default "{}}}
\DoxyCodeLine{349       \textcolor{stringliteral}{"{}frequency: "{}}}
\DoxyCodeLine{350       \textcolor{stringliteral}{"{}\%lf"{}},}
\DoxyCodeLine{351       this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}});}
\DoxyCodeLine{352   \}}
\DoxyCodeLine{353   \textcolor{keywordflow}{else}}
\DoxyCodeLine{354   \{}
\DoxyCodeLine{355     RCLCPP\_WARN(}
\DoxyCodeLine{356       \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}Signal detector frequency (ros param signal\_detector\_loop\_freq): \%lf"{}},}
\DoxyCodeLine{357       this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}});}
\DoxyCodeLine{358   \}}
\DoxyCodeLine{359 }
\DoxyCodeLine{360   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}()-\/>set\_parameter(rclcpp::Parameter(\textcolor{stringliteral}{"{}signal\_detector\_loop\_freq"{}}, this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}}));}
\DoxyCodeLine{361 }
\DoxyCodeLine{362   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}[SignalDetector] loop rate hz:"{}} << \mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}});}
\DoxyCodeLine{363 }
\DoxyCodeLine{364   rclcpp::Rate r(\mbox{\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz}});}
\DoxyCodeLine{365   \textcolor{keywordflow}{while} (rclcpp::ok() \&\& !\mbox{\hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_}})}
\DoxyCodeLine{366   \{}
\DoxyCodeLine{367     \mbox{\hyperlink{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}{pollOnce}}();}
\DoxyCodeLine{368     rclcpp::spin\_some(\mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}());}
\DoxyCodeLine{369     r.sleep();}
\DoxyCodeLine{370   \}}
\DoxyCodeLine{371 \}}

\end{DoxyCode}


Referenced by smacc\+::run(), and run\+Thread().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}\label{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!pollOnce@{pollOnce}}
\index{pollOnce@{pollOnce}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{pollOnce()}{pollOnce()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::poll\+Once (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

poll() 

Definition at line 210 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{211 \{}
\DoxyCodeLine{212   \textcolor{comment}{// precondition: smaccStateMachine\_ != nullptr}}
\DoxyCodeLine{213 }
\DoxyCodeLine{214   \textcolor{comment}{//TRACEPOINT( spinOnce);}}
\DoxyCodeLine{215   \mbox{\hyperlink{smacc__tracing_8cpp_a99b909db1e382a9b899ec134046d0213}{TRACEPOINT}}(spinOnce);}
\DoxyCodeLine{216 }
\DoxyCodeLine{217   \textcolor{keywordflow}{try}}
\DoxyCodeLine{218   \{}
\DoxyCodeLine{219     \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a5c8d4c9a4b11c7950266a00e48080ce3}{lockStateMachine}}(\textcolor{stringliteral}{"{}update behaviors"{}});}
\DoxyCodeLine{220 }
\DoxyCodeLine{221     \textcolor{keywordtype}{long} currentStateIndex = \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a8d06ceb80aa405ffc74f5ce519f09d75}{getCurrentStateCounter}}();}
\DoxyCodeLine{222     \textcolor{keyword}{auto} currentState = \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a610d09dc5341fb63732be713c21fbe86}{getCurrentState}}();}
\DoxyCodeLine{223 }
\DoxyCodeLine{224     \textcolor{keywordflow}{if} (currentState != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{225     \{}
\DoxyCodeLine{226       RCLCPP\_INFO\_THROTTLE(}
\DoxyCodeLine{227         \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), *(\mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}()-\/>get\_clock()), 10000,}
\DoxyCodeLine{228         \textcolor{stringliteral}{"{}[SignalDetector] heartbeat. Current State: \%s"{}},}
\DoxyCodeLine{229         \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(*currentState)).c\_str());}
\DoxyCodeLine{230     \}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a74f6efb84f6389ed5ca5ae9492d3efef}{findUpdatableClientsAndComponents}}();}
\DoxyCodeLine{233     RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}updatable clients: "{}} << this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}}.size());}
\DoxyCodeLine{234 }
\DoxyCodeLine{235     \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}}.size())}
\DoxyCodeLine{236     \{}
\DoxyCodeLine{237       \textcolor{keyword}{auto} node = \mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}();}
\DoxyCodeLine{238       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} * updatableClient : this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}})}
\DoxyCodeLine{239       \{}
\DoxyCodeLine{240         \textcolor{keyword}{auto} updatableElementName = \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(*updatableClient)).c\_str();}
\DoxyCodeLine{241         \textcolor{keywordflow}{try}}
\DoxyCodeLine{242         \{}
\DoxyCodeLine{243           RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{244             node-\/>get\_logger(),}
\DoxyCodeLine{245             \textcolor{stringliteral}{"{}[PollOnce] update client call:  "{}} << \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(*updatableClient)));}
\DoxyCodeLine{246 }
\DoxyCodeLine{247           \mbox{\hyperlink{smacc__tracing_8cpp_a99b909db1e382a9b899ec134046d0213}{TRACEPOINT}}(\mbox{\hyperlink{trace__provider_8hpp_a449e57ed9e44b74c38c745b4152528f1}{update\_start}}, updatableElementName);}
\DoxyCodeLine{248           updatableClient-\/>executeUpdate(node);}
\DoxyCodeLine{249           \mbox{\hyperlink{smacc__tracing_8cpp_a99b909db1e382a9b899ec134046d0213}{TRACEPOINT}}(\mbox{\hyperlink{trace__provider_8hpp_a449e57ed9e44b74c38c745b4152528f1}{update\_start}}, updatableElementName);}
\DoxyCodeLine{250         \}}
\DoxyCodeLine{251         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \& e)}
\DoxyCodeLine{252         \{}
\DoxyCodeLine{253           RCLCPP\_ERROR\_STREAM(}
\DoxyCodeLine{254             node-\/>get\_logger(),}
\DoxyCodeLine{255             \textcolor{stringliteral}{"{}Error in updatable elemnent "{}} << updatableElementName << \textcolor{stringliteral}{"{}: "{}} << e.what() << \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{256         \}}
\DoxyCodeLine{257       \}}
\DoxyCodeLine{258     \}}
\DoxyCodeLine{259 }
\DoxyCodeLine{260     \textcolor{comment}{// STATE UPDATABLE ELEMENTS}}
\DoxyCodeLine{261     \textcolor{keywordflow}{if} (}
\DoxyCodeLine{262       this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_a654a98ba86c4c1013ac3c371f293d950}{stateMachineCurrentAction}} !=}
\DoxyCodeLine{263         \mbox{\hyperlink{namespacesmacc_a0889aff43c93fe5285109819d2898144a5e174e130ee1847f37541ba5786207a3}{StateMachineInternalAction::TRANSITIONING}} \&\&}
\DoxyCodeLine{264       this-\/>smaccStateMachine\_-\/>stateMachineCurrentAction !=}
\DoxyCodeLine{265         \mbox{\hyperlink{namespacesmacc_a0889aff43c93fe5285109819d2898144a32406d3560b9f36b3e6e3b84454e1be5}{StateMachineInternalAction::STATE\_CONFIGURING}} \&\&}
\DoxyCodeLine{266       this-\/>smaccStateMachine\_-\/>stateMachineCurrentAction !=}
\DoxyCodeLine{267         \mbox{\hyperlink{namespacesmacc_a0889aff43c93fe5285109819d2898144a22bd5bb7935dd66f181d92efc273951e}{StateMachineInternalAction::STATE\_EXITING}})}
\DoxyCodeLine{268     \{}
\DoxyCodeLine{269       \textcolor{comment}{// we do not update updatable elements during trasitioning or configuration of states}}
\DoxyCodeLine{270       RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}[SignalDetector] update behaviors. checking current state"{}});}
\DoxyCodeLine{271 }
\DoxyCodeLine{272       \textcolor{keywordflow}{if} (currentState != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{273       \{}
\DoxyCodeLine{274         RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}[SignalDetector] current state: "{}} << currentStateIndex);}
\DoxyCodeLine{275         RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}[SignalDetector] last state: "{}} << this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_}});}
\DoxyCodeLine{276 }
\DoxyCodeLine{277         \textcolor{keywordflow}{if} (currentStateIndex != 0)}
\DoxyCodeLine{278         \{}
\DoxyCodeLine{279           \textcolor{keywordflow}{if} (currentStateIndex != (\textcolor{keywordtype}{long})this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_}})}
\DoxyCodeLine{280           \{}
\DoxyCodeLine{281             RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{282               \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{283               \textcolor{stringliteral}{"{}[PollOnce] detected new state, refreshing updatable client "{}}}
\DoxyCodeLine{284               \textcolor{stringliteral}{"{}behavior table"{}});}
\DoxyCodeLine{285             \textcolor{comment}{// we are in a new state, refresh the updatable client behaviors table}}
\DoxyCodeLine{286             this-\/>lastState\_ = currentStateIndex;}
\DoxyCodeLine{287             this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a443234ebdf8cedd45cde725e64639dfe}{findUpdatableStateElements}}(currentState);}
\DoxyCodeLine{288           \}}
\DoxyCodeLine{289 }
\DoxyCodeLine{290           RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{291             \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{292             \textcolor{stringliteral}{"{}[SignalDetector] updatable state elements: "{}} << this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}}.size());}
\DoxyCodeLine{293           \textcolor{keyword}{auto} node = \mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}();}
\DoxyCodeLine{294           \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} * udpatableStateElement : this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}{updatableStateElements\_}})}
\DoxyCodeLine{295           \{}
\DoxyCodeLine{296             \textcolor{keyword}{auto} updatableElementName = \mbox{\hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}}(\textcolor{keyword}{typeid}(*udpatableStateElement)).c\_str();}
\DoxyCodeLine{297             \textcolor{keywordflow}{try}}
\DoxyCodeLine{298             \{}
\DoxyCodeLine{299               RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{300                 \mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(),}
\DoxyCodeLine{301                 \textcolor{stringliteral}{"{}[SignalDetector] update client behavior call: "{}} << updatableElementName);}
\DoxyCodeLine{302 }
\DoxyCodeLine{303               \mbox{\hyperlink{smacc__tracing_8cpp_a99b909db1e382a9b899ec134046d0213}{TRACEPOINT}}(\mbox{\hyperlink{trace__provider_8hpp_a449e57ed9e44b74c38c745b4152528f1}{update\_start}}, updatableElementName);}
\DoxyCodeLine{304               udpatableStateElement-\/>executeUpdate(node);}
\DoxyCodeLine{305               \mbox{\hyperlink{smacc__tracing_8cpp_a99b909db1e382a9b899ec134046d0213}{TRACEPOINT}}(\mbox{\hyperlink{trace__provider_8hpp_a449e57ed9e44b74c38c745b4152528f1}{update\_start}}, updatableElementName);}
\DoxyCodeLine{306             \}}
\DoxyCodeLine{307             \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \& e)}
\DoxyCodeLine{308             \{}
\DoxyCodeLine{309               RCLCPP\_ERROR\_STREAM(}
\DoxyCodeLine{310                 node-\/>get\_logger(),}
\DoxyCodeLine{311                 \textcolor{stringliteral}{"{}Error in updatable elemnent "{}} << updatableElementName << \textcolor{stringliteral}{"{}: "{}} << e.what() << \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{312             \}}
\DoxyCodeLine{313           \}}
\DoxyCodeLine{314         \}}
\DoxyCodeLine{315       \}}
\DoxyCodeLine{316     \}}
\DoxyCodeLine{317   \}}
\DoxyCodeLine{318   \textcolor{keywordflow}{catch} (std::exception \& ex)}
\DoxyCodeLine{319   \{}
\DoxyCodeLine{320     RCLCPP\_ERROR(\mbox{\hyperlink{classsmacc_1_1SignalDetector_afb1d8aaf0f7deb65ffeeb94b264a60f2}{getLogger}}(), \textcolor{stringliteral}{"{}Exception during Signal Detector update loop. \%s"{}}, ex.what());}
\DoxyCodeLine{321   \}}
\DoxyCodeLine{322 }
\DoxyCodeLine{323   \textcolor{keyword}{auto} nh = this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_a022e32a7e3cf4fa91535f41a19290543}{getNode}}();}
\DoxyCodeLine{324   rclcpp::spin\_some(nh);}
\DoxyCodeLine{325   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}}-\/>\mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine_ae2e3ceb87bfe3f9d8bf320e36071fdc7}{unlockStateMachine}}(\textcolor{stringliteral}{"{}update behaviors"{}});}
\DoxyCodeLine{326 \}}

\end{DoxyCode}


References smacc\+::introspection\+::demangle\+Type(), smacc\+::\+STATE\+\_\+\+CONFIGURING, smacc\+::\+STATE\+\_\+\+EXITING, TRACEPOINT(), smacc\+::\+TRANSITIONING, and update\+\_\+start.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}\label{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!postEvent@{postEvent}}
\index{postEvent@{postEvent}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{postEvent()}{postEvent()}}
{\footnotesize\ttfamily template$<$typename Event\+Type $>$ \\
void smacc\+::\+Signal\+Detector\+::post\+Event (\begin{DoxyParamCaption}\item[{Event\+Type $\ast$}]{ev }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 51 of file smacc\+\_\+signal\+\_\+detector.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{52   \{}
\DoxyCodeLine{53     boost::intrusive\_ptr<EventType> weakPtrEvent = ev;}
\DoxyCodeLine{54     this-\/>\mbox{\hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\_}}-\/>queue\_event(\mbox{\hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processorHandle\_}}, weakPtrEvent);}
\DoxyCodeLine{55   \}}

\end{DoxyCode}


References processor\+Handle\+\_\+, and scheduler\+\_\+.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}\label{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!runThread@{runThread}}
\index{runThread@{runThread}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{runThread()}{runThread()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::run\+Thread (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}{run\+Thread()}} 

Definition at line 186 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{187 \{}
\DoxyCodeLine{188   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signalDetectorThread\_}} = boost::thread(boost::bind(\&\mbox{\hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{SignalDetector::pollingLoop}}, \textcolor{keyword}{this}));}
\DoxyCodeLine{189 \}}

\end{DoxyCode}


References polling\+Loop().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}\label{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!setProcessorHandle@{setProcessorHandle}}
\index{setProcessorHandle@{setProcessorHandle}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{setProcessorHandle()}{setProcessorHandle()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::set\+Processor\+Handle (\begin{DoxyParamCaption}\item[{Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle}]{processor\+Handle }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}{set\+Processor\+Handle()}} 

Definition at line 176 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{177 \{}
\DoxyCodeLine{178   \mbox{\hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processorHandle\_}} = processorHandle;}
\DoxyCodeLine{179 \}}

\end{DoxyCode}


Referenced by smacc\+::run().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}\label{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!stop@{stop}}
\index{stop@{stop}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void smacc\+::\+Signal\+Detector\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}{stop()}} 

Definition at line 203 of file signal\+\_\+detector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{203 \{ \mbox{\hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_}} = \textcolor{keyword}{true}; \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}\label{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!end\_@{end\_}}
\index{end\_@{end\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{end\_}{end\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classbool}{bool}}$>$ smacc\+::\+Signal\+Detector\+::end\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}\label{classsmacc_1_1SignalDetector_a1b3c54963799b538078619906edd5302}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!initialized\_@{initialized\_}}
\index{initialized\_@{initialized\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{initialized\_}{initialized\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classbool}{bool}}$>$ smacc\+::\+Signal\+Detector\+::initialized\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}\label{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!lastState\_@{lastState\_}}
\index{lastState\_@{lastState\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{lastState\_}{lastState\_}}
{\footnotesize\ttfamily std\+::atomic$<$unsigned long$>$ smacc\+::\+Signal\+Detector\+::last\+State\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 67 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}\label{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!loop\_rate\_hz@{loop\_rate\_hz}}
\index{loop\_rate\_hz@{loop\_rate\_hz}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{loop\_rate\_hz}{loop\_rate\_hz}}
{\footnotesize\ttfamily double smacc\+::\+Signal\+Detector\+::loop\+\_\+rate\+\_\+hz\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}\label{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!processorHandle\_@{processorHandle\_}}
\index{processorHandle\_@{processorHandle\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{processorHandle\_}{processorHandle\_}}
{\footnotesize\ttfamily Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle smacc\+::\+Signal\+Detector\+::processor\+Handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 85 of file smacc\+\_\+signal\+\_\+detector.\+hpp.



Referenced by post\+Event().

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}\label{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!scheduler\_@{scheduler\_}}
\index{scheduler\_@{scheduler\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{scheduler\_}{scheduler\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{smacc__fifo__scheduler_8hpp_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler}}$\ast$ smacc\+::\+Signal\+Detector\+::scheduler\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 83 of file smacc\+\_\+signal\+\_\+detector.\+hpp.



Referenced by post\+Event().

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}\label{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!signalDetectorThread\_@{signalDetectorThread\_}}
\index{signalDetectorThread\_@{signalDetectorThread\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{signalDetectorThread\_}{signalDetectorThread\_}}
{\footnotesize\ttfamily boost\+::thread smacc\+::\+Signal\+Detector\+::signal\+Detector\+Thread\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 87 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}\label{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!smaccStateMachine\_@{smaccStateMachine\_}}
\index{smaccStateMachine\_@{smaccStateMachine\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{smaccStateMachine\_}{smaccStateMachine\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsmacc_1_1ISmaccStateMachine}{ISmacc\+State\+Machine}}$\ast$ smacc\+::\+Signal\+Detector\+::smacc\+State\+Machine\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 61 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_afb436ed8aa1d1c213a6c254ad31ff890}\label{classsmacc_1_1SignalDetector_afb436ed8aa1d1c213a6c254ad31ff890}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!statusPub\_@{statusPub\_}}
\index{statusPub\_@{statusPub\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{statusPub\_}{statusPub\_}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$smacc\+\_\+msgs\+::msg\+::\+Smacc\+Status$>$\+::Shared\+Ptr smacc\+::\+Signal\+Detector\+::status\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}\label{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!updatableClients\_@{updatableClients\_}}
\index{updatableClients\_@{updatableClients\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{updatableClients\_}{updatableClients\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable}{ISmacc\+Updatable}} $\ast$$>$ smacc\+::\+Signal\+Detector\+::updatable\+Clients\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 63 of file smacc\+\_\+signal\+\_\+detector.\+hpp.

\mbox{\Hypertarget{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}\label{classsmacc_1_1SignalDetector_a07a5e7bb00c348435d954e22682fa610}} 
\index{smacc::SignalDetector@{smacc::SignalDetector}!updatableStateElements\_@{updatableStateElements\_}}
\index{updatableStateElements\_@{updatableStateElements\_}!smacc::SignalDetector@{smacc::SignalDetector}}
\doxysubsubsection{\texorpdfstring{updatableStateElements\_}{updatableStateElements\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable}{ISmacc\+Updatable}} $\ast$$>$ smacc\+::\+Signal\+Detector\+::updatable\+State\+Elements\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 65 of file smacc\+\_\+signal\+\_\+detector.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2/include/smacc/\mbox{\hyperlink{smacc__signal__detector_8hpp}{smacc\+\_\+signal\+\_\+detector.\+hpp}}\item 
smacc2/src/smacc/\mbox{\hyperlink{signal__detector_8cpp}{signal\+\_\+detector.\+cpp}}\end{DoxyCompactItemize}
